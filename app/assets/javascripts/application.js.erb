/*
 ==== Standard ====
 = require jquery

 ==== Angular ====
 = require angular

 ==== Angular Plugins ====
 = require lodash
 = require restangular
 = require angular-ui-router
 = require mobile-angular-ui/dist/js/mobile-angular-ui.min.js

 = require_self
 = require_tree ./angular/templates
 = require_tree .
 */

var APP = angular.module('<%= Rails.application.class.parent_name %>', [
  'ui.router',
  'templates',
  'restangular',
  'mobile-angular-ui'
]);

APP.config(function($stateProvider, $urlRouterProvider, $locationProvider, RestangularProvider) {
  RestangularProvider.setBaseUrl("/api");

  $urlRouterProvider.otherwise("/stories/featured");

  $stateProvider
    .state("stories", {
      abstract: true,
      url: "/stories",
      templateUrl: "stories.html",
      controller: "StoriesController"
    })
    .state('stories.featured', {
      url: "/featured",
      templateUrl: "stories/featured.html",
      controller: "FeaturedStoriesController"
    });

  $locationProvider.html5Mode(true);
});
